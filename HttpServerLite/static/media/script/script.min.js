function hitokoto(){var e=new XMLHttpRequest;e.open("get","https://v1.hitokoto.cn"),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),n=document.getElementById("hitokoto");n.innerText=t.hitokoto}},e.send()}function scroll(){let e=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",t=>{let n=window.scrollY;e.forEach((t,o)=>{let a=document.getElementById(decodeURI(t.hash).substring(1)),i=null;e[o+1]&&(i=document.getElementById(decodeURI(e[o+1].hash).substring(1))),a.offsetTop<=n?i?i.offsetTop>n?t.classList.add("current"):t.classList.remove("current"):t.classList.add("current"):t.classList.remove("current")})})}function loadlive2d(){const e="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@1.5.4/assets/media/live2d/tororo/assets/tororo.model_";var t=window.localStorage&&window.localStorage.getItem("theme");const n=2,o=1,a=1,i=130,r=130,s=5,d=80,l="right",c=!0,m=1,g=!0,u={tagMode:!1,model:{jsonPath:e+"light.json"},display:{superSample:n,width:i,height:r,position:l,hOffset:s,vOffset:d},mobile:{show:c,scale:m,motion:g},react:{opacityDefault:o,opacityOnHover:a},log:!1,debug:!1},h={tagMode:!1,model:{jsonPath:e+"dark.json"},display:{superSample:n,width:i,height:r,position:l,hOffset:s,vOffset:d},mobile:{show:c,scale:m,motion:g},react:{opacityDefault:o,opacityOnHover:a},log:!1,debug:!1};$("#live2d-widget").remove(),"dark"==t?L2Dwidget.init(u):L2Dwidget.init(h)}function getStar(){var e=document.getElementById("star"),t=0,n="https://api.github.com/users/ITJoker233/repos?page=",o=new XMLHttpRequest;o.open("get",n),o.onreadystatechange=function(){if(4===o.readyState)for(var n=JSON.parse(o.responseText),a=0;a<n.length;a++)if("Gridea-theme-Chic"==n[a].name){t=n[a].stargazers_count;for(var i=0;i<parseInt(t)+1;i++)setTimeout(setTimeout(e.innerHTML=i.toString(),500),100);break}},o.send()}function CheckVersion(){var e=new XMLHttpRequest;e.open("get","https://api.github.com/repos/ITJoker233/Gridea-theme-Chic/releases/latest"),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),n=document.getElementById("version").innerText.trim(),o=document.getElementById("update").innerText.trim(),a=document.getElementById("hitokoto"),i=new RegExp("重要更新");"on"==o?(""==n&&(a.innerText="因为新版本特性,请重新点击下主题->自定义配置->保存 或参考最新的README.md"),t.tag_name!=n?(console.log("🎉Current Theme Version: "+n),a.innerText="请及时更新当前版本为："+n+" 最新版本为："+t.tag_name):console.log("\n %c 🎉 Current Theme Version: "+n+" Latest Version: "+t.tag_name+"\n\n","color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;")):"off"==o&&i.test(t.body)&&(console.log("🎉Current Theme Version: "+n),a.innerText="有重大更新，请及时更新当前版本为："+n+" 最新版本为："+t.tag_name)}},e.send()}function getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}(function(){var e=!(!window.attachEvent||window.opera),t=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,n=[],o=function(){for(var e=0;e<n.length;e++)n[e]()},a=document;a.ready=function(i){if(!e&&!t&&a.addEventListener)return a.addEventListener("DOMContentLoaded",i,!1);if(!(n.push(i)>1))if(e)(function(){try{a.documentElement.doScroll("left"),o()}catch(e){setTimeout(arguments.callee,0)}})();else if(t)var r=setInterval(function(){/^(loaded|complete)$/.test(a.readyState)&&(clearInterval(r),o())},0)}})(),document.ready(function(){var e=window._Blog||{};const t=window.localStorage&&window.localStorage.getItem("theme"),n="dark"===t;var o=document.getElementById("mobile-toggle-theme-zh"),a=document.getElementById("mobile-toggle-theme-en"),i=getStyle(a,"display"),r=document.getElementById("switch_default");n?(r.checked=!1,"inline"==i?a.innerText="·Dark":o.innerText="·暗黑"):(r.checked=!0,"inline"==i?a.innerText="·Light":o.innerText="·日间"),e.toggleTheme=function(){n?(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==i?a.innerText="·Dark":o.innerText="·暗黑"):(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==i?a.innerText="·Light":o.innerText="·日间"),document.getElementsByClassName("toggleBtn")[0].addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?document.getElementsByTagName("body")[0].classList.remove("dark-theme"):document.getElementsByTagName("body")[0].classList.add("dark-theme"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light"),location.reload()}),a.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==i?a.innerText="·Light":o.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==i?a.innerText="·Dark":o.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light"),location.reload()}),o.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==i?a.innerText="·Light":o.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==i?a.innerText="·Dark":o.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")})},e.toggleTheme()});